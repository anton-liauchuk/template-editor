<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
  <title>PrimeFaces Editor</title>
</h:head>

<h:body>

  <h:outputStylesheet>
    .ui-inputtextarea-resizable {
      resize: auto;
    }

    .no-header .ui-panel-titlebar{
      display: none !important;
    }
  </h:outputStylesheet>

  <h:form>
    <p:outputPanel id="restrictPanel" layout="block" style="width:800px;height:800px;border:1px solid #666666;margin-bottom:20px">
      <p:panel id="conpnl" header="Restricted">
        <h:outputText value="I am restricted to my parent's boundaries" />
      </p:panel>
      <ui:repeat value="#{editor.editableElements}" var="editableElement" varStatus="status">
        <p:inputTextarea id="editableElement" styleClass="editableElement#{status.index}" value="#{editableElement.text}">
          <p:ajax />
        </p:inputTextarea>
        <p:draggable for="editableElement" containment="parent" />
        <p:panel header="#{editableElement.text}" style="width: #{editableElement.width}px; height: #{editableElement.height}px">
          <h:outputText value="#{editableElement.text}" />
        </p:panel>
      </ui:repeat>

      <p:panel id="testElement" style="width: 50px" styleClass="no-header">
        <p:inputTextarea>
          <p:ajax />
        </p:inputTextarea>
      </p:panel>

    </p:outputPanel>
    <!--<p:draggable for="testElement" containment="parent" />-->
    <p:commandButton global="false" action="#{editor.save}" value="Save"/>
  </h:form>
</h:body>
</html>
